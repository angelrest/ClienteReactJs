(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{185:function(e,t,a){e.exports=a(451)},190:function(e,t,a){},197:function(e,t,a){},211:function(e,t,a){},342:function(e,t,a){},348:function(e,t,a){},350:function(e,t,a){},352:function(e,t,a){},363:function(e,t,a){},393:function(e,t,a){},451:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(9),i=a.n(s),o=(a(190),a(71),a(21)),l=a.n(o),c=a(15),u=a(16),m=a(19),d=a(17),h=a(18),p=a(10),v=(a(103),a(29)),g=a.n(v),f=(a(197),a(462)),b=a(459),E=a(461),y="http://localhost:8080/api",S="accessToken",O=4,j=40,k=3,w=15,C=40,N=6,M=20,U=50,L="http://gateway.marvel.com/v1/public",A="4ca3843acc12618260188e6659a872b5",F="e656069cb8a1d3b8963750ae1e8558dea405b953",z=1,P=a(199),T=function(e){var t=new Headers({"Content-Type":"application/json"});localStorage.getItem(S)&&t.append("Authorization","Bearer "+localStorage.getItem(S));var a={headers:t};return e=Object.assign({},a,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})},I=function(e){var t={headers:new Headers({"Content-Type":"application/json"})};return e=Object.assign({},t,e),fetch(e.url,e).then(function(e){return e.json().then(function(t){return e.ok?t:Promise.reject(t)})})};function x(e){return I({url:L+"/characters?ts="+z+"&apikey="+A+"&hash="+P(z+F+A)+"&offset="+e,method:"GET"})}function D(e){return I({url:L+"/characters/"+e+"/comics?ts="+z+"&apikey="+A+"&hash="+P(z+F+A),method:"GET"})}a(33);var R=a(25),G=a.n(R),B=(a(72),a(42)),Y=a.n(B),J=(a(73),a(11)),q=a.n(J),V=(a(134),a(49)),W=a.n(V),H=(a(211),a(458)),Q=W.a.Item,K=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=W.a.create()($);return r.a.createElement("div",{className:"login-container"},r.a.createElement("h1",{className:"page-title"},"Login"),r.a.createElement("div",{className:"login-content"},r.a.createElement(e,{onLogin:this.props.onLogin})))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){e||function(e){return T({url:y+"/auth/signin",method:"POST",body:JSON.stringify(e)})}(Object.assign({},a)).then(function(e){localStorage.setItem(S,e.accessToken),t.props.onLogin()}).catch(function(e){401===e.status?l.a.error({message:"Polling App",description:"Your Username or Password is incorrect. Please try again!"}):l.a.error({message:"Polling App",description:e.message||"Sorry! Something went wrong. Please try again!"})})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(W.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(Q,null,e("usernameOrEmail",{rules:[{required:!0,message:"Please input your username or email!"}]})(r.a.createElement(Y.a,{prefix:r.a.createElement(q.a,{type:"user"}),size:"large",name:"usernameOrEmail",placeholder:"Username or Email"}))),r.a.createElement(Q,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(Y.a,{prefix:r.a.createElement(q.a,{type:"lock"}),size:"large",name:"password",type:"password",placeholder:"Password"}))),r.a.createElement(Q,null,r.a.createElement(G.a,{type:"primary",htmlType:"submit",size:"large",className:"login-form-button"},"Login"),"Or ",r.a.createElement(H.a,{to:"/signup"},"register now!")))}}]),t}(n.Component),_=K,X=a(91),Z=a(101),ee=(a(342),W.a.Item),te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).validateName=function(e){return e.length<O?{validateStatus:"error",errorMsg:"Name is too short (Minimum ".concat(O," characters needed.)")}:e.length>j?{validationStatus:"error",errorMsg:"Name is too long (Maximum ".concat(j," characters allowed.)")}:{validateStatus:"success",errorMsg:null}},a.validateEmail=function(e){return e?RegExp("[^@ ]+@[^@ ]+\\.[^@ ]+").test(e)?e.length>C?{validateStatus:"error",errorMsg:"Email is too long (Maximum ".concat(C," characters allowed)")}:{validateStatus:null,errorMsg:null}:{validateStatus:"error",errorMsg:"Email not valid"}:{validateStatus:"error",errorMsg:"Email may not be empty"}},a.validateUsername=function(e){return e.length<k?{validateStatus:"error",errorMsg:"Username is too short (Minimum ".concat(k," characters needed.)")}:e.length>w?{validationStatus:"error",errorMsg:"Username is too long (Maximum ".concat(w," characters allowed.)")}:{validateStatus:null,errorMsg:null}},a.validatePassword=function(e){return e.length<N?{validateStatus:"error",errorMsg:"Password is too short (Minimum ".concat(N," characters needed.)")}:e.length>M?{validationStatus:"error",errorMsg:"Password is too long (Maximum ".concat(M," characters allowed.)")}:{validateStatus:"success",errorMsg:null}},a.state={name:{value:""},username:{value:""},email:{value:""},password:{value:""}},a.handleInputChange=a.handleInputChange.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a.validateUsernameAvailability=a.validateUsernameAvailability.bind(Object(p.a)(Object(p.a)(a))),a.validateEmailAvailability=a.validateEmailAvailability.bind(Object(p.a)(Object(p.a)(a))),a.isFormInvalid=a.isFormInvalid.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleInputChange",value:function(e,t){var a=e.target,n=a.name,r=a.value;this.setState(Object(X.a)({},n,Object(Z.a)({value:r},t(r))))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),function(e){return T({url:y+"/auth/signup",method:"POST",body:JSON.stringify(e)})}({name:this.state.name.value,email:this.state.email.value,username:this.state.username.value,password:this.state.password.value}).then(function(e){l.a.success({message:"Cliente (API-REST)",description:"Thank you! You're successfully registered. Please Login to continue!"}),t.props.history.push("/login")}).catch(function(e){l.a.error({message:"Cliente (API-REST)",description:e.message||"Sorry! Something went wrong. Please try again!"})})}},{key:"isFormInvalid",value:function(){return!("success"===this.state.name.validateStatus&&"success"===this.state.username.validateStatus&&"success"===this.state.email.validateStatus&&"success"===this.state.password.validateStatus)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"signup-container"},r.a.createElement("h1",{className:"page-title"},"Sign Up"),r.a.createElement("div",{className:"signup-content"},r.a.createElement(W.a,{onSubmit:this.handleSubmit,className:"signup-form"},r.a.createElement(ee,{label:"Full Name",validateStatus:this.state.name.validateStatus,help:this.state.name.errorMsg},r.a.createElement(Y.a,{size:"large",name:"name",autoComplete:"off",placeholder:"Your full name",value:this.state.name.value,onChange:function(t){return e.handleInputChange(t,e.validateName)}})),r.a.createElement(ee,{label:"Username",hasFeedback:!0,validateStatus:this.state.username.validateStatus,help:this.state.username.errorMsg},r.a.createElement(Y.a,{size:"large",name:"username",autoComplete:"off",placeholder:"A unique username",value:this.state.username.value,onBlur:this.validateUsernameAvailability,onChange:function(t){return e.handleInputChange(t,e.validateUsername)}})),r.a.createElement(ee,{label:"Email",hasFeedback:!0,validateStatus:this.state.email.validateStatus,help:this.state.email.errorMsg},r.a.createElement(Y.a,{size:"large",name:"email",type:"email",autoComplete:"off",placeholder:"Your email",value:this.state.email.value,onBlur:this.validateEmailAvailability,onChange:function(t){return e.handleInputChange(t,e.validateEmail)}})),r.a.createElement(ee,{label:"Password",validateStatus:this.state.password.validateStatus,help:this.state.password.errorMsg},r.a.createElement(Y.a,{size:"large",name:"password",type:"password",autoComplete:"off",placeholder:"A password between 6 to 20 characters",value:this.state.password.value,onChange:function(t){return e.handleInputChange(t,e.validatePassword)}})),r.a.createElement(ee,null,r.a.createElement(G.a,{type:"primary",htmlType:"submit",size:"large",className:"signup-form-button",disabled:this.isFormInvalid()},"Sign up"),"Already registed? ",r.a.createElement(H.a,{to:"/login"},"Login now!")))))}},{key:"validateUsernameAvailability",value:function(){var e,t=this,a=this.state.username.value,n=this.validateUsername(a);"error"!==n.validateStatus?(this.setState({username:{value:a,validateStatus:"validating",errorMsg:null}}),(e=a,T({url:y+"/user/checkUsernameAvailability?username="+e,method:"GET"})).then(function(e){e.available?t.setState({username:{value:a,validateStatus:"success",errorMsg:null}}):t.setState({username:{value:a,validateStatus:"error",errorMsg:"This username is already taken"}})}).catch(function(e){t.setState({username:{value:a,validateStatus:"success",errorMsg:null}})})):this.setState({username:Object(Z.a)({value:a},n)})}},{key:"validateEmailAvailability",value:function(){var e,t=this,a=this.state.email.value,n=this.validateEmail(a);"error"!==n.validateStatus?(this.setState({email:{value:a,validateStatus:"validating",errorMsg:null}}),(e=a,T({url:y+"/user/checkEmailAvailability?email="+e,method:"GET"})).then(function(e){e.available?t.setState({email:{value:a,validateStatus:"success",errorMsg:null}}):t.setState({email:{value:a,validateStatus:"error",errorMsg:"This Email is already registered"}})}).catch(function(e){t.setState({email:{value:a,validateStatus:"success",errorMsg:null}})})):this.setState({email:Object(Z.a)({value:a},n)})}}]),t}(n.Component),ae=(a(84),a(41)),ne=a.n(ae),re=["#F44336","#e91e63","#9c27b0","#673ab7","#ff9800","#ff5722","#795548","#607d8b","#3f51b5","#2196F3","#00bcd4","#009688","#2196F3","#32c787","#00BCD4","#ff5652","#ffc107","#ff85af","#FF9800","#39bbb0","#4CAF50","#ffeb3b","#ffc107"];a(164);var se=a(129),ie=a.n(se);function oe(e){var t=r.a.createElement(q.a,{type:"loading-3-quarters",style:{fontSize:80},spin:!0});return r.a.createElement(ie.a,{indicator:t,style:{display:"block",textAlign:"center",marginTop:30}})}a(348),a(350);var le=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page-not-found"},r.a.createElement("h1",{className:"title"},"404"),r.a.createElement("div",{className:"desc"},"The Page you're looking for was not found."),r.a.createElement(H.a,{to:"/"},r.a.createElement(G.a,{className:"go-back-btn",type:"primary",size:"large"},"Go Back")))}}]),t}(n.Component),ce=(a(352),function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"server-error-page"},r.a.createElement("h1",{className:"server-error-title"},"500"),r.a.createElement("div",{className:"server-error-desc"},"Oops! Something went wrong at our Server. Why don't you go back?"),r.a.createElement(H.a,{to:"/"},r.a.createElement(G.a,{className:"server-error-go-back-btn",type:"primary",size:"large"},"Go Back")))}}]),t}(n.Component)),ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={user:null,isLoading:!1},a.loadUserProfile=a.loadUserProfile.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"loadUserProfile",value:function(e){var t=this;this.setState({isLoading:!0}),function(e){return T({url:y+"/users/"+e,method:"GET"})}(e).then(function(e){t.setState({user:e,isLoading:!1})}).catch(function(e){404===e.status?t.setState({notFound:!0,isLoading:!1}):t.setState({serverError:!0,isLoading:!1})})}},{key:"componentDidMount",value:function(){var e=this.props.match.params.username;this.loadUserProfile(e),this.setState({variable:this.props.currentUser})}},{key:"componentDidUpdate",value:function(e){this.props.match.params.username!==e.match.params.username&&this.loadUserProfile(e.match.params.username)}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement(oe,null):this.state.notFound?r.a.createElement(le,null):this.state.serverError?r.a.createElement(ce,null):r.a.createElement("div",{className:"profile"},this.state.user?r.a.createElement("div",{className:"user-profile"},r.a.createElement("div",{className:"user-details"},r.a.createElement("div",{className:"user-avatar"},r.a.createElement(ne.a,{className:"user-avatar-circle",style:{backgroundColor:function(e){e=e.substr(0,6);for(var t=0,a=0;a<e.length;a++)t=31*t+e.charCodeAt(a);var n=Math.abs(t%re.length);return re[n]}(this.state.user.name)}},this.state.user.name[0].toUpperCase())),r.a.createElement("div",{className:"user-summary"},r.a.createElement("div",{className:"full-name"},this.state.user.name),r.a.createElement("div",{className:"username"},"@",this.state.user.username),r.a.createElement("div",{className:"email"},this.state.user.email)))):null)}}]),t}(n.Component),me=(a(354),a(181)),de=a.n(me),he=(a(357),a(28)),pe=a.n(he),ve=(a(363),g.a.Header),ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleMenuClick=a.handleMenuClick.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleMenuClick",value:function(e){"logout"===e.key&&(this.props.onLogout(),this.props.history.push("/login"))}},{key:"render",value:function(){var e;return e=this.props.currentUser?[r.a.createElement(pe.a.Item,{key:"/"},r.a.createElement(H.a,{to:"/"},r.a.createElement(q.a,{type:"home",className:"nav-icon"}))),r.a.createElement(pe.a.Item,{key:""},r.a.createElement(H.a,{to:"#"})),r.a.createElement(pe.a.Item,{key:"",className:"profile-menu"},r.a.createElement(fe,{currentUser:this.props.currentUser,handleMenuClick:this.handleMenuClick}))]:[r.a.createElement(pe.a.Item,{key:"/login"},r.a.createElement(H.a,{to:"/login"},"Login")),r.a.createElement(pe.a.Item,{key:"/signup"},r.a.createElement(H.a,{to:"/signup"},"Signup"))],r.a.createElement(ve,{className:"app-header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"app-title"},r.a.createElement(H.a,{to:"/"},"Rest - Marvel")),r.a.createElement(pe.a,{className:"app-menu",mode:"horizontal",selectedKeys:[this.props.location.pathname],style:{lineHeight:"64px"}},e)))}}]),t}(n.Component);function fe(e){var t=r.a.createElement(pe.a,{onClick:e.handleMenuClick,className:"profile-dropdown-menu"},r.a.createElement(pe.a.Item,{key:"user-info",className:"dropdown-item",disabled:!0},r.a.createElement("div",{className:"user-full-name-info"},e.currentUser.name),r.a.createElement("div",{className:"username-info"},"@",e.currentUser.username)),r.a.createElement(pe.a.Divider,null),r.a.createElement(pe.a.Item,{key:"profile",className:"dropdown-item"},r.a.createElement(H.a,{to:"/users/".concat(e.currentUser.username)},"Profile")),r.a.createElement(pe.a.Item,{key:"logout",className:"dropdown-item"},"Logout"));return r.a.createElement(de.a,{overlay:t,trigger:["click"],getPopupContainer:function(){return document.getElementsByClassName("profile-menu")[0]}},r.a.createElement("a",{target:"_blank",className:"ant-dropdown-link"},r.a.createElement(q.a,{type:"user",className:"nav-icon",style:{marginRight:0}})," ",r.a.createElement(q.a,{type:"down"})))}var be=Object(E.a)(ge),Ee=(a(382),a(183)),ye=a.n(Ee),Se=(a(385),a(184)),Oe=a.n(Se),je=(a(168),a(97)),ke=a.n(je),we=(a(393),a(169),a(56)),Ce=a.n(we),Ne=(a(170),a(98)),Me=a.n(Ne),Ue=(a(126),a(48)),Le=a.n(Ue),Ae=(a(402),a(132)),Fe=a.n(Ae),ze=(a(171),a(55)),Pe=a.n(ze),Te=(a(127),a(36)),Ie=a.n(Te),xe=Ie.a.Meta,De=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"calc",value:function(e){this.props.callback(e)}},{key:"calc2",value:function(e){this.props.random(e)}},{key:"confirm",value:function(e){console.log(e),Pe.a.success("Click on Yes"),this.calc2(e)}},{key:"cancel",value:function(e){console.log(e),Pe.a.error("Click on No")}},{key:"render",value:function(){var e=this;return r.a.createElement(Ce.a,{grid:{gutter:20,column:2},dataSource:this.props.results,renderItem:function(t){return r.a.createElement(Ce.a.Item,null,r.a.createElement(Ie.a,null,r.a.createElement(xe,{avatar:r.a.createElement("div",null,r.a.createElement(Fe.a,{type:"vertical"}),r.a.createElement(ne.a,{size:120,src:t.thumbnail.path+"."+t.thumbnail.extension})),title:r.a.createElement(Le.a,{color:"purple"},t.name),description:r.a.createElement(Fe.a,null,r.a.createElement(G.a,{type:"primary",shape:"circle",size:"large",onClick:function(){return e.calc(t)},icon:"picture"}))}),r.a.createElement(Me.a,{title:"Are you add random comics?",onConfirm:function(){return e.confirm(t)},onCancel:function(){return e.cancel("cancel")},okText:"Yes",cancelText:"No"},r.a.createElement("a",null,"selected 3 comics ",r.a.createElement(q.a,{type:"smile",style:{fontSize:"20px",color:"#08c"},theme:"outlined"})))))}})}}]),t}(n.Component),Re=(a(435),a(131)),Ge=a.n(Re),Be=(a(436),a(96)),Ye=a.n(Be),Je=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"calc",value:function(e,t){this.props.savedata(e,t)}},{key:"confirm",value:function(e,t){console.log(e),this.calc(e,t),Pe.a.success("Click on Yes")}},{key:"cancel",value:function(e){console.log(e),Pe.a.error("Click on No")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Ge.a,{align:"center"},r.a.createElement(Ye.a,{span:12},r.a.createElement("div",null,r.a.createElement(Ie.a,{bordered:!1,style:{background:"#330000"}},r.a.createElement(ne.a,{shape:"square",size:250,src:this.props.results.thumbnail.path+"."+this.props.results.thumbnail.extension}),r.a.createElement(Me.a,{title:"Are you sure add favourite?",onConfirm:function(){return e.confirm(e.props.results,e.props.charactersid)},onCancel:function(){return e.cancel("cancel")},okText:"Yes",cancelText:"No"},r.a.createElement(Le.a,{style:{"font-size":"15px"},color:"#f50"},"Add Favourite")),r.a.createElement("p",{style:{color:"#FFFFFF"}},this.props.results.title)))),r.a.createElement(Ye.a,{span:12},r.a.createElement("div",null,r.a.createElement(Ie.a,{style:{opacity:.5,background:"#000000"}},this.props.results.description?r.a.createElement("div",null,r.a.createElement(Le.a,{color:"red"},"Description"),r.a.createElement("p",{style:{color:"#FFFFFF","font-size":"11px"}},this.props.results.description)):r.a.createElement("h3",{style:{color:"#FFFFFF"}},"No description"))))))}}]),t}(n.Component),qe=Ie.a.Meta,Ve=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"calc",value:function(e,t){this.props.searcomics(e,t)}},{key:"render",value:function(){var e=this,t=this.props.element;return r.a.createElement(Ce.a,{itemLayout:"vertical",size:"large",pagination:{onChange:function(t){e.calc(t,4)},pageSize:4,total:t},dataSource:this.props.results,renderItem:function(e){return r.a.createElement(Ce.a.Item,null,r.a.createElement(Ie.a,{align:"center",bordered:!1},r.a.createElement("p",{style:{"font-size":"10px"}},r.a.createElement(Le.a,{color:"green"},r.a.createElement("b",null,"Character:")),e.titleCharacter),r.a.createElement("p",{style:{"font-size":"10px"}},r.a.createElement("b",null,"Comics:"),e.titleComics),r.a.createElement(qe,{avatar:r.a.createElement(ne.a,{shape:"square",size:140,src:e.uriimage})})))}})}}]),t}(n.Component),We=g.a.Header,He=g.a.Sider,Qe=g.a.Content,Ke=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).hideModal=function(){a.setState({visible:!1,comics:[],charactersid:null})},a.state={characters:[],page:0,size:20,totalElements:0,results:[],currenUser:[],isLoading:!1,comics:[],visible:!1,charactersid:null,viewcomics:[],comicssize:0,lengthcomics:0,isload:!1},a.loadCharacte=a.loadCharacte.bind(Object(p.a)(Object(p.a)(a))),a.onShowSizeChange=a.onShowSizeChange.bind(Object(p.a)(Object(p.a)(a))),a.saveData=a.saveData.bind(Object(p.a)(Object(p.a)(a))),a.showModal=a.showModal.bind(Object(p.a)(Object(p.a)(a))),a.loadComicsView=a.loadComicsView.bind(Object(p.a)(Object(p.a)(a))),a.funtionRandom=a.funtionRandom.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"funtionRandom",value:function(e){var t=this;!1!==this.props.isAuthenticated?D(e.id).then(function(a){for(var n,r=0;r<3;r++){if(n=Math.floor(Math.random()*a.data.results.length)+1,console.log(n-1),0===a.data.results.length)return void l.a.error({message:"No Pictures",description:"Sorry! no resource"});t.saveData(a.data.results[n-1],e)}}):l.a.error({message:"Favourite",description:"Sorry! login no authenticate"})}},{key:"showModal",value:function(e){var t=this;this.setState({visible:!0,isload:!0}),D(e.id).then(function(a){0===a.data.results.length&&(t.hideModal(),l.a.error({message:"Resource",description:"Sorry! no pictures"})),t.setState({comics:a.data.results,charactersid:e})})}},{key:"saveData",value:function(e,t){var a=this;if(!1!==this.props.isAuthenticated){var n,r,s,i={charactersid:t.id,userid:this.props.currentUser.id,comicsid:e.id,uriimage:e.thumbnail.path+"."+e.thumbnail.extension,description:e.description,titleCharacter:t.name,titleComics:"."+e.title};(n=t.id,r=e.id,s=this.props.currentUser.id,T({url:y+"/user/checkComicsAvailability?characters="+n+"&comics="+r+"&userid="+s,method:"GET"})).then(function(t){var n;t.available?(n=i,T({url:y+"/marvel",method:"POST",body:JSON.stringify(n)})).then(function(t){l.a.success({message:e.name+" favourite",description:"Thank you! The favorite comics was saved successfully"}),a.loadComicsView(0,4)}).catch(function(t){l.a.error({message:e.name+" favourite",description:t.message||"Sorry! Something went wrong. Please try again!"})}):l.a.error({message:"favourite",description:"Sorry! Character already exists!"})}).catch(function(e){})}else l.a.error({message:"favourite",description:"Sorry! login no authenticate"})}},{key:"loadComicsView",value:function(e,t){var a=this;e>0&&(e-=1),function(e,t){return T({url:y+"/marvel?page="+(e=e||0)+"&size="+(t=t||U),method:"GET"})}(e,t).then(function(e){a.setState({viewcomics:e.content,comicssize:e.totalElements})})}},{key:"loadCharacte",value:function(e){var t,a=this;(t=x(e||0))&&(this.setState({isLoading:!0}),t.then(function(e){var t=a.state.characters.slice();a.setState({characters:t.concat(e.data),size:e.data.limit,page:e.data.offset,totalElements:e.data.total,results:e.data.results,isLoading:!1})}).catch(function(e){404===e.status?a.setState({notFound:!0,isLoading:!1}):a.setState({serverError:!0,isLoading:!1})}))}},{key:"componentDidMount",value:function(){this.loadCharacte(this.state.current),this.loadComicsView(0,4)}},{key:"componentDidUpdate",value:function(e){this.props.isAuthenticated!==e.isAuthenticated&&this.setState({characters:[],page:0,size:20,totalElements:0,results:[],isLoading:!1})}},{key:"onShowSizeChange",value:function(e){this.loadCharacte(e)}},{key:"render",value:function(){var e=this;if(this.state.notFound)return r.a.createElement(le,null);if(this.state.serverError)return r.a.createElement(ce,null);this.props.isAuthenticated;var t=r.a.createElement(Ve,{element:this.state.comicssize,searcomics:this.loadComicsView.bind(this),results:this.state.viewcomics}),a=[];this.state.comics.forEach(function(t){a.push(r.a.createElement(Je,{charactersid:e.state.charactersid,savedata:e.saveData.bind(e),results:t}))});var n=r.a.createElement(De,{random:this.funtionRandom.bind(this),results:this.state.results,callback:this.showModal.bind(this)});return r.a.createElement(g.a,null,r.a.createElement(We,null,r.a.createElement("h2",null,"Favourite Comics")),this.state.isLoading?r.a.createElement(oe,null):r.a.createElement(g.a,null,r.a.createElement(He,null,t),r.a.createElement(Qe,null,r.a.createElement(ke.a,{onChange:function(t){return e.onShowSizeChange(t)},showQuickJumper:!0,current:this.state.page,total:10*this.state.totalElements}),r.a.createElement("br",null),n,r.a.createElement(ke.a,{onChange:function(t){return e.onShowSizeChange(t)},showQuickJumper:!0,current:this.state.page,total:10*this.state.totalElements}))),r.a.createElement("div",null,r.a.createElement(ye.a,{bodyStyle:{background:"#330000"},style:{background:"#330000"},width:700,visible:this.state.visible,onOk:this.hideModal,onCancel:this.hideModal,okText:"Ok",cancelText:"cancel"},0===this.state.comics.length?r.a.createElement(oe,null):r.a.createElement("div",null,r.a.createElement(Oe.a,{autoplay:!0,effect:"fade"},a)))))}}]),t}(n.Component),$e=Object(E.a)(Ke),_e=g.a.Content,Xe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={currentUser:null,isAuthenticated:!1,isLoading:!1},a.handleLogout=a.handleLogout.bind(Object(p.a)(Object(p.a)(a))),a.loadCurrentUser=a.loadCurrentUser.bind(Object(p.a)(Object(p.a)(a))),a.handleLogin=a.handleLogin.bind(Object(p.a)(Object(p.a)(a))),l.a.config({placement:"topRight",top:70,duration:3}),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"loadCurrentUser",value:function(){var e=this;this.setState({isLoading:!0}),(localStorage.getItem(S)?T({url:y+"/user/me",method:"GET"}):Promise.reject("No access token set.")).then(function(t){e.setState({currentUser:t,isAuthenticated:!0,isLoading:!1})}).catch(function(t){e.setState({isLoading:!1})})}},{key:"componentDidMount",value:function(){this.loadCurrentUser()}},{key:"handleLogout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Usted ha cerrado sesi\xf3n";localStorage.removeItem(S),this.setState({currentUser:null,isAuthenticated:!1}),this.props.history.push(e),l.a[t]({message:"Cliente (API-REST)",description:a})}},{key:"handleLogin",value:function(){l.a.success({message:"Cliente (API-REST)",description:"Usted ha iniciado sesi\xf3n"}),this.loadCurrentUser(),this.props.history.push("/")}},{key:"render",value:function(){var e=this;return this.state.isLoading?r.a.createElement(oe,null):r.a.createElement(g.a,{className:"app-container"},r.a.createElement(be,{isAuthenticated:this.state.isAuthenticated,currentUser:this.state.currentUser,onLogout:this.handleLogout}),r.a.createElement(_e,{className:"app-content"},r.a.createElement("div",{className:"container"},r.a.createElement(f.a,null,r.a.createElement(b.a,{exact:!0,path:"/",render:function(t){return r.a.createElement($e,Object.assign({isAuthenticated:e.state.isAuthenticated,currentUser:e.state.currentUser,handleLogout:e.handleLogout},t))}}),r.a.createElement(b.a,{path:"/login",render:function(t){return r.a.createElement(_,Object.assign({onLogin:e.handleLogin},t))}}),r.a.createElement(b.a,{path:"/signup",component:te}),r.a.createElement(b.a,{path:"/users/:username",render:function(t){return r.a.createElement(ue,Object.assign({isAuthenticated:e.state.isAuthenticated,currentUser:e.state.currentUser},t))}}),r.a.createElement(b.a,{component:le})))))}}]),t}(n.Component),Ze=Object(E.a)(Xe),et=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function tt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var at=a(460);i.a.render(r.a.createElement(at.a,null,r.a.createElement(Ze,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");et?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):tt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):tt(e)})}}()}},[[185,2,1]]]);
//# sourceMappingURL=main.f66c9faf.chunk.js.map